---
import SectionContainer from "../../containers/SectionContainer.astro";
import { CHARACTERS } from "../../../consts/characters";
import Image from "astro/components/Image.astro";
import CharItem from "../CharItem2.astro";

const { pathname } = Astro.url;

const cleanLink = (lang: string | undefined, charId: string) => {
  if (lang === "es") return `${pathname}/character/${charId}`;
  return `${pathname}character/${charId}`;
};

import { getI18N } from "../../../i18n";
const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
---

<SectionContainer titles={i18n?.HomePage.CharSection.Title}>
  <div
    class="flex overflow-x-auto sm:overflow-visible sm:grid sm:grid-cols-2 md:grid-cols-3 w-full items-end gap-4 lg:gap-12"
  >
    {
      CHARACTERS.map((char, index) => {
        return (
          <CharItem link={cleanLink(currentLocale, char.id)} char={char} />
        );
      })
    }
  </div>
</SectionContainer>

<style></style>
